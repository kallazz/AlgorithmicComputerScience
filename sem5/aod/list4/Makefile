CXX = g++

CXXFLAGS = -std=c++17 -Wall -Wextra -pedantic

OPTIMIZATION_FLAGS = -O3

SRC_DIR = src
SOURCES_COMMON = $(SRC_DIR)/algorithms.cpp $(SRC_DIR)/Graph.cpp
SOURCES_TEST = $(SRC_DIR)/testAlgorithms.cpp $(SOURCES_COMMON)
SOURCES_EXPERIMENT = $(SRC_DIR)/experiment.cpp $(SOURCES_COMMON)
SOURCES_MAIN = $(SRC_DIR)/main.cpp $(SOURCES_COMMON)

EXECUTABLE_TEST_NAME = testAlgorithms
EXECUTABLE_EXPERIMENT_NAME = experiment
EXECUTABLE_MAIN_NAME = main

all: $(EXECUTABLE_TEST_NAME) $(EXECUTABLE_EXPERIMENT_NAME) $(EXECUTABLE_MAIN_NAME)


$(EXECUTABLE_TEST_NAME): $(SOURCES_TEST)
	$(CXX) $(CXXFLAGS) -o $@ $^

$(EXECUTABLE_EXPERIMENT_NAME): $(SOURCES_EXPERIMENT)
	$(CXX) $(CXXFLAGS) $(OPTIMIZATION_FLAGS) -o $@ $^

$(EXECUTABLE_MAIN_NAME): $(SOURCES_MAIN)
	$(CXX) $(CXXFLAGS) -o $@ $^

clean:
	rm -f $(EXECUTABLE_TEST_NAME) $(EXECUTABLE_EXPERIMENT_NAME) $(EXECUTABLE_MAIN_NAME)

.PHONY: all clean